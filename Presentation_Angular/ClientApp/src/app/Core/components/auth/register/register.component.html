<form
  class="col-md-8"
  [formGroup]="registerForm"
  (ngSubmit)="register(registerForm.value)">

<!-- Input fields required in html (voor het sterretje te laten zien) -->
<mat-card>
  <mat-card-header>
    <mat-card-title>Personal Details</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <div class="form-row">
      <mat-form-field class="col-md-6 col-12 mb-2">
        <mat-label>First name</mat-label>
        <input matInput formControlName="firstName" required/>
        <mat-error *ngIf="form.firstName.hasError('required')">
          Required
        </mat-error
        >
        <mat-error
          *ngIf="form.firstName.hasError('maxlength')">
          Max 50 characters
        </mat-error
        >
      </mat-form-field>

      <mat-form-field class="col-md-6 col-12 mb-md-2">
        <mat-label>Family name</mat-label>
        <input matInput formControlName="familyName" required/>
        <mat-error
          *ngIf="form.familyName.hasError('required')">
          Required
        </mat-error
        >
        <mat-error
          *ngIf="form.familyName.hasError('maxlength')">
          Max 50 characters
        </mat-error
        >
      </mat-form-field>
    </div>

    <mat-form-field class="my-form-full-width">
      <mat-label>Username</mat-label>
      <input matInput formControlName="username" required/>
      <mat-error *ngIf="form.username.hasError('required')">
        Required
      </mat-error
      >
      <mat-error *ngIf="form.username.hasError('maxlength')">
        Max 20 characters
      </mat-error
      >
    </mat-form-field>

    <mat-form-field class="my-form-full-width">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" required/>
      <mat-error *ngIf="form.email.hasError('required')">
        Required
      </mat-error
      >
      <mat-error *ngIf="form.email.hasError('email')">
        Invalid address
      </mat-error
      >
    </mat-form-field>

    <mat-form-field class="my-form-full-width">
      <mat-label>Password</mat-label>
      <input matInput formControlName="password" type="password" required/>
      <mat-error *ngIf="form.password.hasError('required')">
        Required
      </mat-error
      >
      <mat-error *ngIf="form.password.hasError('minlength')">
        Min 8 characters
      </mat-error
      >
      <mat-error *ngIf="form.password.hasError('maxlength')">
        Max 100 characters
      </mat-error
      >
      <mat-error *ngIf="form.password.hasError('invalidPassword')">
        Password must contain at least 1 lowercase, 1 uppercase, 1 number & 1 special character
      </mat-error
      >
    </mat-form-field>

    <mat-form-field class="my-form-full-width">
      <mat-label>Confirm Password</mat-label>
      <input
        matInput
        formControlName="confirmPassword"
        type="password"
        required/>
      <mat-error
        *ngIf="form.confirmPassword.hasError('required')">
        Required
      </mat-error>
    </mat-form-field>
    <mat-error
      *ngIf="
            registerForm.hasError('passwordMismatch')">
      Confirm password doesn't match
    </mat-error>
  </mat-card-content>
</mat-card>

<mat-card class="mt-2">
  <mat-card-header>
    <mat-card-title>Shipping Address</mat-card-title>
  </mat-card-header>
  <div class="form-row">
    <mat-form-field class="col-7">
      <mat-label>Street</mat-label>
      <input matInput formControlName="street" required/>
      <mat-error *ngIf="form.street.hasError('required')">
        Required
      </mat-error
      >
      <mat-error *ngIf="form.street.hasError('maxlength')">
        Max 100 characters
      </mat-error
      >
    </mat-form-field>

    <mat-form-field class="col">
      <mat-label>House Nr.</mat-label>
      <input matInput formControlName="houseNr" required/>
      <mat-error *ngIf="form.houseNr.hasError('required')">
        Required
      </mat-error
      >
      <mat-error *ngIf="form.houseNr.hasError('maxlength')">
        Max 5 characters
      </mat-error
      >
    </mat-form-field>

    <mat-form-field class="col">
      <mat-label>App.</mat-label>
      <input matInput formControlName="houseBus"/>
      <mat-error *ngIf="form.houseBus.hasError('maxlength')">
        Max 4 characters
      </mat-error
      >
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field class="col-4">
      <mat-label>Postal</mat-label>
      <input matInput formControlName="postalCode" required/>
      <mat-error *ngIf="form.postalCode.hasError('required')">
        Required
      </mat-error
      >
      <mat-error *ngIf="form.postalCode.hasError('maxlength')">
        Max 6 characters
      </mat-error
      >
    </mat-form-field>

    <mat-form-field class="col">
      <mat-label>City</mat-label>
      <input matInput formControlName="city" required/>
      <mat-error *ngIf="form.city.hasError('required')">
        Required
      </mat-error
      >
      <mat-error *ngIf="form.city.hasError('maxlength')">
        Max 100 characters
      </mat-error
      >
    </mat-form-field>
  </div>
  <mat-card-content>
  </mat-card-content
  >
</mat-card>

<mat-card class="mt-2">
  <mat-card-header>
    <mat-card-title>Billing Address</mat-card-title>
    <mat-card-subtitle>Leave blank if same as shipping</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <div class="form-row">
      <mat-form-field class="col-7">
        <mat-label>Street</mat-label>
        <input matInput formControlName="streetBilling"/>
        <mat-error
          *ngIf="form.streetBilling.hasError('maxlength')">
          Max 100 characters
        </mat-error
        >
      </mat-form-field>

      <mat-form-field class="col">
        <mat-label>House Nr.</mat-label>
        <input matInput formControlName="houseNrBilling"/>
        <mat-error
          *ngIf="form.houseNrBilling.hasError('maxlength')">
          Max 5 characters
        </mat-error
        >
      </mat-form-field>

      <mat-form-field class="col">
        <mat-label>App.</mat-label>
        <input matInput formControlName="houseBusBilling"/>
        <mat-error
          *ngIf="form.houseBusBilling.hasError('maxlength')">
          Max 4 characters
        </mat-error
        >
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field class="col-4">
        <mat-label>Postal</mat-label>
        <input matInput formControlName="postalCodeBilling"/>
        <mat-error
          *ngIf="form.postalCodeBilling.hasError('maxlength')">
          Max 6 characters
        </mat-error
        >
      </mat-form-field>

      <mat-form-field class="col">
        <mat-label>City</mat-label>
        <input matInput formControlName="cityBilling"/>
        <mat-error
          *ngIf="form.cityBilling.hasError('maxlength')">
          Max 100 characters
        </mat-error
        >
      </mat-form-field>
    </div>
  </mat-card-content>
</mat-card>

<div class="form-row mt-2">
  <button
    mat-raised-button
    class="col mx-1"
    color="primary"
    [disabled]="registerForm.invalid">
    Register
  </button>
  <button
    mat-stroked-button
    class="col mx-1"
    color="primary"
    [routerLink]="['/home']">
    Cancel
  </button>
</div>
</form>
